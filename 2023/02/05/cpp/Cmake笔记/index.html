<!DOCTYPE html><html lang="zh-CN"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=2"><meta name="theme-color" content="#FFF"><link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon.png"><link rel="icon" type="image/ico" sizes="32x32" href="/images/favicon.ico"><meta http-equiv="Cache-Control" content="no-transform"><meta http-equiv="Cache-Control" content="no-siteapp"><link rel="alternate" type="application/rss+xml" href="https://aristotlednzk.github.io.com/rss.xml"><link rel="alternate" type="application/atom+xml" href="https://aristotlednzk.github.io.com/atom.xml"><link rel="alternate" type="application/json" href="https://aristotlednzk.github.io.com/feed.json"><link rel="stylesheet" href="//fonts.googleapis.com/css?family=Mulish:300,300italic,400,400italic,700,700italic%7CFredericka%20the%20Great:300,300italic,400,400italic,700,700italic%7CNoto%20Serif%20JP:300,300italic,400,400italic,700,700italic%7CNoto%20Serif%20SC:300,300italic,400,400italic,700,700italic%7CInconsolata:300,300italic,400,400italic,700,700italic&display=swap&subset=latin,latin-ext"><link rel="stylesheet" href="/css/app.css?v=0.2.5"><meta name="keywords" content="Cmake"><link rel="canonical" href="https://aristotlednzk.github.io.com/2023/02/05/cpp/Cmake%E7%AC%94%E8%AE%B0/"><title>Cmake笔记 - C++ | Sean Barrett = = 远行者回忆录——人类往事</title><meta name="generator" content="Hexo 6.3.0"></head><body itemscope itemtype="http://schema.org/WebPage"><div id="loading"><div class="cat"><div class="body"></div><div class="head"><div class="face"></div></div><div class="foot"><div class="tummy-end"></div><div class="bottom"></div><div class="legs left"></div><div class="legs right"></div></div><div class="paw"><div class="hands left"></div><div class="hands right"></div></div></div></div><div id="container"><header id="header" itemscope itemtype="http://schema.org/WPHeader"><div class="inner"><div id="brand"><div class="pjax"><h1 itemprop="name headline">Cmake笔记</h1><div class="meta"><span class="item" title="创建时间：2023-02-05 16:45:03"><span class="icon"><i class="ic i-calendar"></i> </span><span class="text">发表于</span> <time itemprop="dateCreated datePublished" datetime="2023-02-05T16:45:03+08:00">2023-02-05</time> </span><span class="item" title="本文字数"><span class="icon"><i class="ic i-pen"></i> </span><span class="text">本文字数</span> <span>9.2k</span> <span class="text">字</span> </span><span class="item" title="阅读时长"><span class="icon"><i class="ic i-clock"></i> </span><span class="text">阅读时长</span> <span>8 分钟</span></span></div></div></div><nav id="nav"><div class="inner"><div class="toggle"><div class="lines" aria-label="切换导航栏"><span class="line"></span> <span class="line"></span> <span class="line"></span></div></div><ul class="menu"><li class="item title"><a href="/" rel="start">Sean Barrett</a></li></ul><ul class="right"><li class="item theme"><i class="ic i-sun"></i></li><li class="item search"><i class="ic i-search"></i></li></ul></div></nav></div><div id="imgs" class="pjax"><ul><li class="item" data-background-image="https://tva1.sinaimg.cn/large/6833939bly1gicliierfjj20zk0m8npd.jpg"></li><li class="item" data-background-image="https://tva1.sinaimg.cn/large/6833939bly1giclil3m4ej20zk0m8tn8.jpg"></li><li class="item" data-background-image="https://tva1.sinaimg.cn/large/6833939bly1giclj9410cj20zk0m8h12.jpg"></li><li class="item" data-background-image="https://tva1.sinaimg.cn/large/6833939bly1giph4wqtg4j20zk0m8x6p.jpg"></li><li class="item" data-background-image="https://tva1.sinaimg.cn/large/6833939bly1giclwuom7cj20zk0m8dvn.jpg"></li><li class="item" data-background-image="https://tva1.sinaimg.cn/large/6833939bly1gicm0fdw5cj20zk0m8hdt.jpg"></li></ul></div></header><div id="waves"><svg class="waves" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 24 150 28" preserveAspectRatio="none" shape-rendering="auto"><defs><path id="gentle-wave" d="M-160 44c30 0 58-18 88-18s 58 18 88 18 58-18 88-18 58 18 88 18 v44h-352z"/></defs><g class="parallax"><use xlink:href="#gentle-wave" x="48" y="0"/><use xlink:href="#gentle-wave" x="48" y="3"/><use xlink:href="#gentle-wave" x="48" y="5"/><use xlink:href="#gentle-wave" x="48" y="7"/></g></svg></div><main><div class="inner"><div id="main" class="pjax"><div class="article wrap"><div class="breadcrumb" itemscope itemtype="https://schema.org/BreadcrumbList"><i class="ic i-home"></i> <span><a href="/">首页</a></span><i class="ic i-angle-right"></i> <span class="current" itemprop="itemListElement" itemscope itemtype="https://schema.org/ListItem"><a href="/categories/cpp/" itemprop="item" rel="index" title="分类于 C++"><span itemprop="name">C++</span></a><meta itemprop="position" content="1"></span></div><article itemscope itemtype="http://schema.org/Article" class="post block" lang="zh-CN"><link itemprop="mainEntityOfPage" href="https://aristotlednzk.github.io.com/2023/02/05/cpp/Cmake%E7%AC%94%E8%AE%B0/"><span hidden itemprop="author" itemscope itemtype="http://schema.org/Person"><meta itemprop="image" content="/images/avatar.jpg"><meta itemprop="name" content="Sean Barrett"><meta itemprop="description" content="远行者回忆录——人类往事, 思及我域"></span><span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization"><meta itemprop="name" content=""></span><div class="body md" itemprop="articleBody"><h1 id="cmake"><a class="anchor" href="#cmake">#</a> CMake</h1><h1 id="说明"><a class="anchor" href="#说明">#</a> 说明</h1><p>cmake 的定义是什么 ？----- 高级编译配置工具</p><p>当多个人用不同的语言或者编译器开发一个项目，最终要输出一个可执行文件或者共享库（dll，so 等等）这时候神器就出现了 -----CMake！</p><p>所有操作都是通过编译 CMakeLists.txt 来完成的 — 简单</p><p>官 方网站是 <span class="exturl" data-url="aHR0cDovL3d3dy5jbWFrZS5vcmcv">www.cmake.org</span>，可以通过访问官方网站获得更多关于 cmake 的信息</p><p>学习 CMake 的目的，为将来处理大型的 C/C++/JAVA 项目做准备</p><h1 id="cmake安装"><a class="anchor" href="#cmake安装">#</a> CMake 安装</h1><p>1、绝大多数的 linux 系统已经安装了 CMake</p><p>2、Windows 或某些没有安装过的 linux 系统，去<span class="exturl" data-url="aHR0cDovL3d3dy5jbWFrZS5vcmcvSFRNTC9Eb3dubG9hZC5odG1s"> http://www.cmake.org/HTML/Download.htm</span>l 可以下载安装</p><h1 id="cmake一个helloword"><a class="anchor" href="#cmake一个helloword">#</a> CMake 一个 HelloWord</h1><p>1、步骤一，写一个 HelloWord</p><figure class="highlight cpp"><figcaption data-lang="C++"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">main</span><span class="token expression"><span class="token punctuation">.</span>cpp</span></span></pre></td></tr><tr><td data-num="2"></td><td><pre></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;iostream></span></span></pre></td></tr><tr><td data-num="4"></td><td><pre></pre></td></tr><tr><td data-num="5"></td><td><pre><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="6"></td><td><pre>std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span>  <span class="token string">"hello word"</span> <span class="token operator">&lt;&lt;</span> std<span class="token double-colon punctuation">::</span>endl<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="7"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr></table></figure><p>2、步骤二，写 CMakeLists.txt</p><figure class="highlight cpp"><figcaption data-lang="C++"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token macro property"><span class="token directive-hash">#</span><span class="token expression">CMakeLists<span class="token punctuation">.</span>txt</span></span></pre></td></tr><tr><td data-num="2"></td><td><pre></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token function">PROJECT</span> <span class="token punctuation">(</span>HELLO<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="4"></td><td><pre></pre></td></tr><tr><td data-num="5"></td><td><pre><span class="token function">SET</span><span class="token punctuation">(</span>SRC_LIST main<span class="token punctuation">.</span>cpp<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="6"></td><td><pre></pre></td></tr><tr><td data-num="7"></td><td><pre><span class="token function">MESSAGE</span><span class="token punctuation">(</span>STATUS <span class="token string">"This is BINARY dir "</span> $<span class="token punctuation">&#123;</span>HELLO_BINARY_DIR<span class="token punctuation">&#125;</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="8"></td><td><pre></pre></td></tr><tr><td data-num="9"></td><td><pre><span class="token function">MESSAGE</span><span class="token punctuation">(</span>STATUS <span class="token string">"This is SOURCE dir "</span>$<span class="token punctuation">&#123;</span>HELLO_SOURCE_DIR<span class="token punctuation">&#125;</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="10"></td><td><pre></pre></td></tr><tr><td data-num="11"></td><td><pre><span class="token function">ADD_EXECUTABLE</span><span class="token punctuation">(</span>hello $<span class="token punctuation">&#123;</span>SRC_LIST<span class="token punctuation">&#125;</span><span class="token punctuation">)</span></pre></td></tr></table></figure><p>3、步骤三、使用 cmake，生成 makefile 文件</p><figure class="highlight cpp"><figcaption data-lang="C++"></figcaption><table><tr><td data-num="1"></td><td><pre>cmake <span class="token punctuation">.</span></pre></td></tr><tr><td data-num="2"></td><td><pre></pre></td></tr><tr><td data-num="3"></td><td><pre>输出：</pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token punctuation">[</span>root@localhost cmake<span class="token punctuation">]</span># cmake <span class="token punctuation">.</span></pre></td></tr><tr><td data-num="5"></td><td><pre>CMake <span class="token function">Warning</span> <span class="token punctuation">(</span>dev<span class="token punctuation">)</span> in CMakeLists<span class="token punctuation">.</span>txt<span class="token operator">:</span></pre></td></tr><tr><td data-num="6"></td><td><pre>  Syntax Warning in cmake code at</pre></td></tr><tr><td data-num="7"></td><td><pre></pre></td></tr><tr><td data-num="8"></td><td><pre>    <span class="token operator">/</span>root<span class="token operator">/</span>cmake<span class="token operator">/</span>CMakeLists<span class="token punctuation">.</span>txt<span class="token operator">:</span><span class="token number">7</span><span class="token operator">:</span><span class="token number">37</span></pre></td></tr><tr><td data-num="9"></td><td><pre></pre></td></tr><tr><td data-num="10"></td><td><pre>  Argument <span class="token operator">not</span> separated from preceding token by whitespace<span class="token punctuation">.</span></pre></td></tr><tr><td data-num="11"></td><td><pre>This warning is <span class="token keyword">for</span> project developers<span class="token punctuation">.</span>  Use <span class="token operator">-</span>Wno<span class="token operator">-</span>dev to suppress it<span class="token punctuation">.</span></pre></td></tr><tr><td data-num="12"></td><td><pre></pre></td></tr><tr><td data-num="13"></td><td><pre><span class="token operator">--</span> The C compiler identification is GNU <span class="token number">10.2</span><span class="token punctuation">.</span><span class="token number">1</span></pre></td></tr><tr><td data-num="14"></td><td><pre><span class="token operator">--</span> The CXX compiler identification is GNU <span class="token number">10.2</span><span class="token punctuation">.</span><span class="token number">1</span></pre></td></tr><tr><td data-num="15"></td><td><pre><span class="token operator">--</span> Check <span class="token keyword">for</span> working C compiler<span class="token operator">:</span> <span class="token operator">/</span>usr<span class="token operator">/</span>bin<span class="token operator">/</span>cc</pre></td></tr><tr><td data-num="16"></td><td><pre><span class="token operator">--</span> Check <span class="token keyword">for</span> working C compiler<span class="token operator">:</span> <span class="token operator">/</span>usr<span class="token operator">/</span>bin<span class="token operator">/</span>cc <span class="token operator">--</span> works</pre></td></tr><tr><td data-num="17"></td><td><pre><span class="token operator">--</span> Detecting C compiler ABI info</pre></td></tr><tr><td data-num="18"></td><td><pre><span class="token operator">--</span> Detecting C compiler ABI info <span class="token operator">-</span> done</pre></td></tr><tr><td data-num="19"></td><td><pre><span class="token operator">--</span> Check <span class="token keyword">for</span> working CXX compiler<span class="token operator">:</span> <span class="token operator">/</span>usr<span class="token operator">/</span>bin<span class="token operator">/</span>c<span class="token operator">++</span></pre></td></tr><tr><td data-num="20"></td><td><pre><span class="token operator">--</span> Check <span class="token keyword">for</span> working CXX compiler<span class="token operator">:</span> <span class="token operator">/</span>usr<span class="token operator">/</span>bin<span class="token operator">/</span>c<span class="token operator">++</span> <span class="token operator">--</span> works</pre></td></tr><tr><td data-num="21"></td><td><pre><span class="token operator">--</span> Detecting CXX compiler ABI info</pre></td></tr><tr><td data-num="22"></td><td><pre><span class="token operator">--</span> Detecting CXX compiler ABI info <span class="token operator">-</span> done</pre></td></tr><tr><td data-num="23"></td><td><pre><span class="token operator">--</span> This is BINARY dir <span class="token operator">/</span>root<span class="token operator">/</span>cmake</pre></td></tr><tr><td data-num="24"></td><td><pre><span class="token operator">--</span> This is SOURCE dir <span class="token operator">/</span>root<span class="token operator">/</span>cmake</pre></td></tr><tr><td data-num="25"></td><td><pre><span class="token operator">--</span> Configuring done</pre></td></tr><tr><td data-num="26"></td><td><pre><span class="token operator">--</span> Generating done</pre></td></tr><tr><td data-num="27"></td><td><pre><span class="token operator">--</span> Build files have been written to<span class="token operator">:</span> <span class="token operator">/</span>root<span class="token operator">/</span>cmake</pre></td></tr></table></figure><p>目录下就生成了这些文件 - CMakeFiles, CMakeCache.txt, cmake_install.cmake 等文件，并且生成了 Makefile.<br>现在不需要理会这些文件的作用，以后你也可以不去理会。最关键的是，它自动生成了 Makefile.</p><p>4、使用 make 命令编译</p><figure class="highlight cpp"><figcaption data-lang="C++"></figcaption><table><tr><td data-num="1"></td><td><pre>root@localhost cmake<span class="token punctuation">]</span># make</pre></td></tr><tr><td data-num="2"></td><td><pre>Scanning dependencies of target hello</pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token punctuation">[</span><span class="token number">100</span><span class="token operator">%</span><span class="token punctuation">]</span> Building CXX object CMakeFiles<span class="token operator">/</span>hello<span class="token punctuation">.</span>dir<span class="token operator">/</span>main<span class="token punctuation">.</span>cpp<span class="token punctuation">.</span>o</pre></td></tr><tr><td data-num="4"></td><td><pre>Linking CXX executable hello</pre></td></tr><tr><td data-num="5"></td><td><pre><span class="token punctuation">[</span><span class="token number">100</span><span class="token operator">%</span><span class="token punctuation">]</span> Built target hello</pre></td></tr></table></figure><p>5、最终生成了 Hello 的可执行程序</p><h1 id="cmake一个helloword-的语法介绍"><a class="anchor" href="#cmake一个helloword-的语法介绍">#</a> CMake 一个 HelloWord - 的语法介绍</h1><h2 id="project关键字"><a class="anchor" href="#project关键字">#</a> PROJECT 关键字</h2><p>可以用来指定工程的名字和支持的语言，默认支持所有语言</p><p>PROJECT (HELLO) 指定了工程的名字，并且支持所有语言 — 建议</p><p>PROJECT (HELLO CXX) 指定了工程的名字，并且支持语言是 C++</p><p>PROJECT (HELLO C CXX) 指定了工程的名字，并且支持语言是 C 和 C++</p><p>该指定隐式定义了两个 CMAKE 的变量</p><p>&lt;projectname&gt;_BINARY_DIR，本例中是 HELLO_BINARY_DIR</p><p>&lt;projectname&gt;_SOURCE_DIR，本例中是 HELLO_SOURCE_DIR</p><p>MESSAGE 关键字就可以直接使用者两个变量，当前都指向当前的工作目录，后面会讲外部编译</p><p>问题：如果改了工程名，这两个变量名也会改变</p><p>解决：又定义两个预定义变量：PROJECT_BINARY_DIR 和 PROJECT_SOURCE_DIR，这两个变量和 HELLO_BINARY_DIR，HELLO_SOURCE_DIR 是一致的。所以改了工程名也没有关系</p><h2 id="set关键字"><a class="anchor" href="#set关键字">#</a> SET 关键字</h2><p>用来显示的指定变量的</p><p>SET (SRC_LIST main.cpp) SRC_LIST 变量就包含了 main.cpp</p><p>也可以 SET (SRC_LIST main.cpp t1.cpp t2.cpp)</p><h2 id="message关键字"><a class="anchor" href="#message关键字">#</a> MESSAGE 关键字</h2><p>向终端输出用户自定义的信息</p><p>主要包含三种信息：</p><ul><li>SEND_ERROR，产生错误，生成过程被跳过。</li><li>SATUS，输出前缀为 — 的信息。</li><li>FATAL_ERROR，立即终止所有 cmake 过程.</li></ul><h2 id="add_executable关键字"><a class="anchor" href="#add_executable关键字">#</a> ADD_EXECUTABLE 关键字</h2><p>生成可执行文件</p><p>ADD_EXECUTABLE (hello ${SRC_LIST}) 生成的可执行文件名是 hello，源文件读取变量 SRC_LIST 中的内容</p><p>也可以直接写 ADD_EXECUTABLE (hello main.cpp)</p><p>上述例子可以简化的写成</p><p>PROJECT(HELLO)<br>ADD_EXECUTABLE(hello main.cpp)</p><p>注意：工程名的 HELLO 和生成的可执行文件 hello 是没有任何关系的</p><h1 id="语法的基本原则"><a class="anchor" href="#语法的基本原则">#</a> 语法的基本原则</h1><ul><li><p>变量使用 ${} 方式取值，但是在 IF 控制语句中是直接使用变量名</p></li><li><p>指令 (参数 1 参数 2...) 参数使用括弧括起，参数之间使用空格或分号分开。 以上面的 ADD_EXECUTABLE 指令为例，如果存在另外一个 func.cpp 源文件</p><p>就要写成：ADD_EXECUTABLE (hello main.cpp func.cpp) 或者 ADD_EXECUTABLE (hello main.cpp;func.cpp)</p></li><li><p>指令是大小写无关的，参数和变量是大小写相关的。但，推荐你全部使用大写指令</p></li></ul><h2 id="语法注意事项"><a class="anchor" href="#语法注意事项">#</a> 语法注意事项</h2><ul><li>SET (SRC_LIST main.cpp) 可以写成 SET (SRC_LIST “main.cpp”)，如果源文件名中含有空格，就必须要加双引号</li><li>ADD_EXECUTABLE (hello main) 后缀可以不行，他会自动去找.c 和.cpp，最好不要这样写，可能会有这两个文件 main.cpp 和 main</li></ul><h1 id="内部构建和外部构建"><a class="anchor" href="#内部构建和外部构建">#</a> 内部构建和外部构建</h1><ul><li>上述例子就是内部构建，他生产的临时文件特别多，不方便清理</li><li>外部构建，就会把生成的临时文件放在 build 目录下，不会对源文件有任何影响强烈使用外部构建方式</li></ul><h2 id="外部构建方式举例"><a class="anchor" href="#外部构建方式举例">#</a> 外部构建方式举例</h2><figure class="highlight cpp"><figcaption data-lang="C++"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token comment">// 例子目录，CMakeLists.txt 和上面例子一致</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token punctuation">[</span>root@localhost cmake<span class="token punctuation">]</span># pwd</pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token operator">/</span>root<span class="token operator">/</span>cmake</pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token punctuation">[</span>root@localhost cmake<span class="token punctuation">]</span># ll</pre></td></tr><tr><td data-num="5"></td><td><pre>total <span class="token number">8</span></pre></td></tr><tr><td data-num="6"></td><td><pre><span class="token operator">-</span>rw<span class="token operator">-</span>r<span class="token operator">--</span>r<span class="token operator">--</span><span class="token punctuation">.</span> <span class="token number">1</span> root root <span class="token number">198</span> Dec <span class="token number">28</span> <span class="token number">20</span><span class="token operator">:</span><span class="token number">59</span> CMakeLists<span class="token punctuation">.</span>txt</pre></td></tr><tr><td data-num="7"></td><td><pre><span class="token operator">-</span>rw<span class="token operator">-</span>r<span class="token operator">--</span>r<span class="token operator">--</span><span class="token punctuation">.</span> <span class="token number">1</span> root root  <span class="token number">76</span> Dec <span class="token number">28</span> <span class="token number">00</span><span class="token operator">:</span><span class="token number">18</span> main<span class="token punctuation">.</span>cpp</pre></td></tr></table></figure><p>1、建立一个 build 目录，可以在任何地方，建议在当前目录下</p><p>2、进入 build，运行 cmake .. 当然.. 表示上一级目录，你可以写 CMakeLists.txt 所在的绝对路径，生产的文件都在 build 目录下了</p><p>3、在 build 目录下，运行 make 来构建工程</p><p>注意外部构建的两个变量</p><p>1、HELLO_SOURCE_DIR 还是工程路径</p><p>2、HELLO_BINARY_DIR 编译路径 也就是 /root/cmake/bulid</p><h1 id="让hello-world看起来更像一个工程"><a class="anchor" href="#让hello-world看起来更像一个工程">#</a> 让 Hello World 看起来更像一个工程</h1><ul><li>为工程添加一个子目录 src，用来放置工程源代码</li><li>添加一个子目录 doc，用来放置这个工程的文档 hello.txt</li><li>在工程目录添加文本文件 COPYRIGHT, README</li><li>在工程目录添加一个 <span class="exturl" data-url="aHR0cDovL3J1bmhlbGxvLnNoLw==">runhello.sh</span> 脚本，用来调用 hello 二进制</li><li>将构建后的目标文件放入构建目录的 bin 子目录</li><li>将 doc 目录 的内容以及 COPYRIGHT/README 安装到 /usr/share/doc/cmake/</li></ul><h2 id="将目标文件放入构建目录的-bin-子目录"><a class="anchor" href="#将目标文件放入构建目录的-bin-子目录">#</a> 将目标文件放入构建目录的 bin 子目录</h2><p>每个目录下都要有一个 CMakeLists.txt 说明</p><figure class="highlight cpp"><figcaption data-lang="C++"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token punctuation">[</span>root@localhost cmake<span class="token punctuation">]</span># tree</pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token punctuation">.</span></pre></td></tr><tr><td data-num="3"></td><td><pre>├── build</pre></td></tr><tr><td data-num="4"></td><td><pre>├── CMakeLists<span class="token punctuation">.</span>txt</pre></td></tr><tr><td data-num="5"></td><td><pre>└── src</pre></td></tr><tr><td data-num="6"></td><td><pre>    ├── CMakeLists<span class="token punctuation">.</span>txt</pre></td></tr><tr><td data-num="7"></td><td><pre>    └── main<span class="token punctuation">.</span>cpp</pre></td></tr></table></figure><p>外层 CMakeLists.txt</p><figure class="highlight cpp"><figcaption data-lang="C++"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token function">PROJECT</span><span class="token punctuation">(</span>HELLO<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token function">ADD_SUBDIRECTORY</span><span class="token punctuation">(</span>src bin<span class="token punctuation">)</span></pre></td></tr></table></figure><p>src 下的 CMakeLists.txt</p><figure class="highlight cpp"><figcaption data-lang="C++"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token function">ADD_EXECUTABLE</span><span class="token punctuation">(</span>hello main<span class="token punctuation">.</span>cpp<span class="token punctuation">)</span></pre></td></tr></table></figure><h3 id="add_subdirectory-指令"><a class="anchor" href="#add_subdirectory-指令">#</a> ADD_SUBDIRECTORY 指令</h3><p>ADD_SUBDIRECTORY(source_dir [binary_dir] [EXCLUDE_FROM_ALL])</p><ul><li><p>这个指令用于向当前工程添加存放源文件的子目录，并可以指定中间二进制和目标二进制存放的位置</p></li><li><p>EXCLUDE_FROM_ALL 函数是将写的目录从编译中排除，如程序中的 example</p></li><li><p>ADD_SUBDIRECTORY(src bin)</p><p>将 src 子目录加入工程并指定编译输出 (包含编译中间结果) 路径为 bin 目录</p><p>如果不进行 bin 目录的指定，那么编译结果 (包括中间结果) 都将存放在 build/src 目录</p></li></ul><h3 id="更改二进制的保存路径"><a class="anchor" href="#更改二进制的保存路径">#</a> 更改二进制的保存路径</h3><p>SET 指令重新定义 EXECUTABLE_OUTPUT_PATH 和 LIBRARY_OUTPUT_PATH 变量 来指定最终的目标二进制的位置</p><p>SET(EXECUTABLE_OUTPUT_PATH ${PROJECT_BINARY_DIR}/bin)<br>SET(LIBRARY_OUTPUT_PATH ${PROJECT_BINARY_DIR}/lib)</p><p>思考：加载哪个 CMakeLists.txt 当中</p><p>哪里要改变目标存放路径，就在哪里加入上述的定义，所以应该在 src 下的 CMakeLists.txt 下写</p><h1 id="安装"><a class="anchor" href="#安装">#</a> 安装</h1><ul><li>一种是从代码编译后直接 make install 安装</li><li>一种是打包时的指定 目录安装。<ul><li>简单的可以这样指定目录：make install DESTDIR=/tmp/test</li><li>稍微复杂一点可以这样指定目录：./configure –prefix=/usr</li></ul></li></ul><h2 id="如何安装helloword"><a class="anchor" href="#如何安装helloword">#</a> 如何安装 HelloWord</h2><p>使用 CMAKE 一个新的指令：INSTALL</p><p>INSTALL 的安装可以包括：二进制、动态库、静态库以及文件、目录、脚本等</p><p>使用 CMAKE 一个新的变量：CMAKE_INSTALL_PREFIX</p><figure class="highlight cpp"><figcaption data-lang="C++"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token comment">// 目录树结构</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token punctuation">[</span>root@localhost cmake<span class="token punctuation">]</span># tree</pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token punctuation">.</span></pre></td></tr><tr><td data-num="4"></td><td><pre>├── build</pre></td></tr><tr><td data-num="5"></td><td><pre>├── CMakeLists<span class="token punctuation">.</span>txt</pre></td></tr><tr><td data-num="6"></td><td><pre>├── COPYRIGHT</pre></td></tr><tr><td data-num="7"></td><td><pre>├── doc</pre></td></tr><tr><td data-num="8"></td><td><pre>│   └── hello<span class="token punctuation">.</span>txt</pre></td></tr><tr><td data-num="9"></td><td><pre>├── README</pre></td></tr><tr><td data-num="10"></td><td><pre>├── runhello<span class="token punctuation">.</span>sh</pre></td></tr><tr><td data-num="11"></td><td><pre>└── src</pre></td></tr><tr><td data-num="12"></td><td><pre>    ├── CMakeLists<span class="token punctuation">.</span>txt</pre></td></tr><tr><td data-num="13"></td><td><pre>    └── main<span class="token punctuation">.</span>cpp</pre></td></tr><tr><td data-num="14"></td><td><pre></pre></td></tr><tr><td data-num="15"></td><td><pre><span class="token number">3</span> directories<span class="token punctuation">,</span> <span class="token number">7</span> files</pre></td></tr></table></figure><h3 id="安装文件copyright和readme"><a class="anchor" href="#安装文件copyright和readme">#</a> 安装文件 COPYRIGHT 和 README</h3><p>INSTALL(FILES COPYRIGHT README DESTINATION share/doc/cmake/)</p><p>FILES：文件</p><p>DESTINATION：</p><p>1、写绝对路径</p><p>2、可以写相对路径，相对路径实际路径是：${CMAKE_INSTALL_PREFIX}/&lt;DESTINATION 定义的路径 &gt;</p><p>CMAKE_INSTALL_PREFIX 默认是在 /usr/local/</p><p>cmake -DCMAKE_INSTALL_PREFIX=/usr 在 cmake 的时候指定 CMAKE_INSTALL_PREFIX 变量的路径</p><h3 id="安装脚本runhellosh"><a class="anchor" href="#安装脚本runhellosh">#</a> <span class="exturl" data-url="aHR0cDovL3huLS1ydW5oZWxsby16aDVvNDQ0Z2h2M2Q5aHQuc2g=">安装脚本 runhello.sh</span></h3><p>PROGRAMS：非目标文件的可执行程序安装 (比如脚本之类)</p><p>INSTALL(PROGRAMS <span class="exturl" data-url="aHR0cDovL3J1bmhlbGxvLnNo">runhello.sh</span> DESTINATION bin)</p><p>说明：实际安装到的是 /usr/bin</p><h3 id="安装-doc-中的-hellotxt"><a class="anchor" href="#安装-doc-中的-hellotxt">#</a> 安装 doc 中的 hello.txt</h3><ul><li><p>一、是通过在 doc 目录建立 CMakeLists.txt ，通过 install 下的 file</p></li><li><p>二、是直接在工程目录通过</p><p>INSTALL(DIRECTORY doc/ DESTINATION share/doc/cmake)</p></li></ul><p>DIRECTORY 后面连接的是所在 Source 目录的相对路径</p><p>注意：abc 和 abc / 有很大的区别</p><p>目录名不以 / 结尾：这个目录将被安装为目标路径下的</p><p>目录名以 / 结尾：将这个目录中的内容安装到目标路径</p><h3 id="安装过程"><a class="anchor" href="#安装过程">#</a> 安装过程</h3><p>cmake ..</p><p>make</p><p>make install</p><h1 id="静态库和动态库的构建"><a class="anchor" href="#静态库和动态库的构建">#</a> 静态库和动态库的构建</h1><p>任务：</p><p>１，建立一个静态库和动态库，提供 HelloFunc 函数供其他程序编程使用，HelloFunc 向终端输出 Hello World 字符串。</p><p>２，安装头文件与共享库。</p><p>静态库和动态库的区别</p><ul><li>静态库的扩展名一般为 “.a” 或 “.lib”；动态库的扩展名一般为 “.so” 或 “.dll”。</li><li>静态库在编译时会直接整合到目标程序中，编译成功的可执行文件可独立运行</li><li>动态库在编译时不会放到连接的目标程序中，即可执行文件无法单独运行。</li></ul><h2 id="构建实例"><a class="anchor" href="#构建实例">#</a> 构建实例</h2><figure class="highlight cpp"><figcaption data-lang="C++"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token punctuation">[</span>root@localhost cmake2<span class="token punctuation">]</span># tree</pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token punctuation">.</span></pre></td></tr><tr><td data-num="3"></td><td><pre>├── build</pre></td></tr><tr><td data-num="4"></td><td><pre>├── CMakeLists<span class="token punctuation">.</span>txt</pre></td></tr><tr><td data-num="5"></td><td><pre>└── lib</pre></td></tr><tr><td data-num="6"></td><td><pre>    ├── CMakeLists<span class="token punctuation">.</span>txt</pre></td></tr><tr><td data-num="7"></td><td><pre>    ├── hello<span class="token punctuation">.</span>cpp</pre></td></tr><tr><td data-num="8"></td><td><pre>    └── hello<span class="token punctuation">.</span>h</pre></td></tr></table></figure><p>hello.h 中的内容</p><figure class="highlight cpp"><figcaption data-lang="C++"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">ifndef</span> <span class="token expression">HELLO_H</span></span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token macro-name">Hello_H</span></span></pre></td></tr><tr><td data-num="3"></td><td><pre></pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token keyword">void</span> <span class="token function">HelloFunc</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="5"></td><td><pre></pre></td></tr><tr><td data-num="6"></td><td><pre><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">endif</span></span></pre></td></tr></table></figure><p>hello.cpp 中的内容</p><figure class="highlight cpp"><figcaption data-lang="C++"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">"hello.h"</span></span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;iostream></span></span></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token keyword">void</span> <span class="token function">HelloFunc</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="4"></td><td><pre>    std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">"Hello World"</span> <span class="token operator">&lt;&lt;</span> std<span class="token double-colon punctuation">::</span>endl<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="5"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr></table></figure><p>项目中的 cmake 内容</p><figure class="highlight cpp"><figcaption data-lang="C++"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token function">PROJECT</span><span class="token punctuation">(</span>HELLO<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token function">ADD_SUBDIRECTORY</span><span class="token punctuation">(</span>lib bin<span class="token punctuation">)</span></pre></td></tr></table></figure><p>lib 中 CMakeLists.txt 中的内容</p><figure class="highlight cpp"><figcaption data-lang="C++"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token function">SET</span><span class="token punctuation">(</span>LIBHELLO_SRC hello<span class="token punctuation">.</span>cpp<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token function">ADD_LIBRARY</span><span class="token punctuation">(</span>hello SHARED $<span class="token punctuation">&#123;</span>LIBHELLO_SRC<span class="token punctuation">&#125;</span><span class="token punctuation">)</span></pre></td></tr></table></figure><h3 id="add_library"><a class="anchor" href="#add_library">#</a> ADD_LIBRARY</h3><p>ADD_LIBRARY(hello SHARED ${LIBHELLO_SRC})</p><ul><li>hello：就是正常的库名，生成的名字前面会加上 lib，<span class="exturl" data-url="aHR0cDovL3huLS1saWJoZWxsby14ODBtcHp2OTNxd3diczNkYnkzZjltZWk1M2Iuc28=">最终产生的文件是 libhello.so</span></li><li>SHARED，动态库 STATIC，静态库</li><li>${LIBHELLO_SRC} ：源文件</li></ul><h3 id="同时构建静态和动态库"><a class="anchor" href="#同时构建静态和动态库">#</a> 同时构建静态和动态库</h3><figure class="highlight cpp"><figcaption data-lang="C++"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token comment">// 如果用这种方式，只会构建一个动态库，不会构建出静态库，虽然静态库的后缀是.a</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token function">ADD_LIBRARY</span><span class="token punctuation">(</span>hello SHARED $<span class="token punctuation">&#123;</span>LIBHELLO_SRC<span class="token punctuation">&#125;</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token function">ADD_LIBRARY</span><span class="token punctuation">(</span>hello STATIC $<span class="token punctuation">&#123;</span>LIBHELLO_SRC<span class="token punctuation">&#125;</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="4"></td><td><pre></pre></td></tr><tr><td data-num="5"></td><td><pre><span class="token comment">// 修改静态库的名字，这样是可以的，但是我们往往希望他们的名字是相同的，只是后缀不同而已</span></pre></td></tr><tr><td data-num="6"></td><td><pre><span class="token function">ADD_LIBRARY</span><span class="token punctuation">(</span>hello SHARED $<span class="token punctuation">&#123;</span>LIBHELLO_SRC<span class="token punctuation">&#125;</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="7"></td><td><pre><span class="token function">ADD_LIBRARY</span><span class="token punctuation">(</span>hello_static STATIC $<span class="token punctuation">&#123;</span>LIBHELLO_SRC<span class="token punctuation">&#125;</span><span class="token punctuation">)</span></pre></td></tr></table></figure><h3 id="set_target_properties"><a class="anchor" href="#set_target_properties">#</a> SET_TARGET_PROPERTIES</h3><p>这条指令可以用来设置输出的名称，对于动态库，还可以用来指定动态库版本和 API 版本</p><p>同时构建静态和动态库</p><figure class="highlight cpp"><figcaption data-lang="C++"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token function">SET</span><span class="token punctuation">(</span>LIBHELLO_SRC hello<span class="token punctuation">.</span>cpp<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="2"></td><td><pre></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token function">ADD_LIBRARY</span><span class="token punctuation">(</span>hello_static STATIC $<span class="token punctuation">&#123;</span>LIBHELLO_SRC<span class="token punctuation">&#125;</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="4"></td><td><pre></pre></td></tr><tr><td data-num="5"></td><td><pre><span class="token comment">// 对 hello_static 的重名为 hello</span></pre></td></tr><tr><td data-num="6"></td><td><pre><span class="token function">SET_TARGET_PROPERTIES</span><span class="token punctuation">(</span>hello_static PROPERTIES  OUTPUT_NAME <span class="token string">"hello"</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="7"></td><td><pre><span class="token comment">//cmake 在构建一个新的 target 时，会尝试清理掉其他使用这个名字的库，因为，在构建 libhello.so 时， 就会清理掉 libhello.a</span></pre></td></tr><tr><td data-num="8"></td><td><pre><span class="token function">SET_TARGET_PROPERTIES</span><span class="token punctuation">(</span>hello_static PROPERTIES CLEAN_DIRECT_OUTPUT <span class="token number">1</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="9"></td><td><pre></pre></td></tr><tr><td data-num="10"></td><td><pre><span class="token function">ADD_LIBRARY</span><span class="token punctuation">(</span>hello SHARED $<span class="token punctuation">&#123;</span>LIBHELLO_SRC<span class="token punctuation">&#125;</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="11"></td><td><pre></pre></td></tr><tr><td data-num="12"></td><td><pre><span class="token function">SET_TARGET_PROPERTIES</span><span class="token punctuation">(</span>hello PROPERTIES  OUTPUT_NAME <span class="token string">"hello"</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="13"></td><td><pre><span class="token function">SET_TARGET_PROPERTIES</span><span class="token punctuation">(</span>hello PROPERTIES CLEAN_DIRECT_OUTPUT <span class="token number">1</span><span class="token punctuation">)</span></pre></td></tr></table></figure><h3 id="动态库的版本号"><a class="anchor" href="#动态库的版本号">#</a> 动态库的版本号</h3><p>一般动态库都有一个版本号的关联</p><figure class="highlight cpp"><figcaption data-lang="C++"></figcaption><table><tr><td data-num="1"></td><td><pre>libhello<span class="token punctuation">.</span>so<span class="token punctuation">.</span><span class="token number">1.2</span></pre></td></tr><tr><td data-num="2"></td><td><pre>libhello<span class="token punctuation">.</span>so <span class="token operator">-></span>libhello<span class="token punctuation">.</span>so<span class="token punctuation">.</span><span class="token number">1</span></pre></td></tr><tr><td data-num="3"></td><td><pre>libhello<span class="token punctuation">.</span>so<span class="token punctuation">.</span><span class="token number">1</span><span class="token operator">-></span>libhello<span class="token punctuation">.</span>so<span class="token punctuation">.</span><span class="token number">1.2</span></pre></td></tr></table></figure><p>CMakeLists.txt 插入如下</p><p><code>SET_TARGET_PROPERTIES(hello PROPERTIES VERSION 1.2 SOVERSION 1)</code></p><p>VERSION 指代动态库版本，SOVERSION 指代 API 版本。</p><h3 id="安装共享库和头文件"><a class="anchor" href="#安装共享库和头文件">#</a> 安装共享库和头文件</h3><p>本例中我们将 hello 的共享库安装到 &lt;prefix&gt;/lib 目录，</p><p>将 hello.h 安装到 &lt;prefix&gt;/include/hello 目录</p><figure class="highlight cpp"><figcaption data-lang="C++"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token comment">// 文件放到该目录下</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token function">INSTALL</span><span class="token punctuation">(</span>FILES hello<span class="token punctuation">.</span>h DESTINATION include<span class="token operator">/</span>hello<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="3"></td><td><pre></pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token comment">// 二进制，静态库，动态库安装都用 TARGETS</span></pre></td></tr><tr><td data-num="5"></td><td><pre><span class="token comment">//ARCHIVE 特指静态库，LIBRARY 特指动态库，RUNTIME 特指可执行目标二进制。</span></pre></td></tr><tr><td data-num="6"></td><td><pre><span class="token function">INSTALL</span><span class="token punctuation">(</span>TARGETS hello hello_static LIBRARY DESTINATION lib ARCHIVE DESTINATION lib<span class="token punctuation">)</span></pre></td></tr></table></figure><p>注意：</p><p>安装的时候，指定一下路径，放到系统下</p><p><code>cmake -DCMAKE_INSTALL_PREFIX=/usr ..</code></p><h3 id="使用外部共享库和头文件"><a class="anchor" href="#使用外部共享库和头文件">#</a> 使用外部共享库和头文件</h3><p>准备工作，新建一个目录来使用外部共享库和头文件</p><figure class="highlight cpp"><figcaption data-lang="C++"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token punctuation">[</span>root@MiWiFi<span class="token operator">-</span>R4CM<span class="token operator">-</span>srv cmake3<span class="token punctuation">]</span># tree</pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token punctuation">.</span></pre></td></tr><tr><td data-num="3"></td><td><pre>├── build</pre></td></tr><tr><td data-num="4"></td><td><pre>├── CMakeLists<span class="token punctuation">.</span>txt</pre></td></tr><tr><td data-num="5"></td><td><pre>└── src</pre></td></tr><tr><td data-num="6"></td><td><pre>    ├── CMakeLists<span class="token punctuation">.</span>txt</pre></td></tr><tr><td data-num="7"></td><td><pre>    └── main<span class="token punctuation">.</span>cpp</pre></td></tr></table></figure><p>main.cpp</p><figure class="highlight cpp"><figcaption data-lang="C++"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;hello.h></span></span></pre></td></tr><tr><td data-num="2"></td><td><pre></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="4"></td><td><pre>	<span class="token function">HelloFunc</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="5"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr></table></figure><h3 id="解决make后头文件找不到的问题"><a class="anchor" href="#解决make后头文件找不到的问题">#</a> 解决：make 后头文件找不到的问题</h3><p>PS：include &lt;hello/hello.h&gt; 这样 include 是可以，这么做的话，就没啥好讲的了</p><p>关键字：INCLUDE_DIRECTORIES 这条指令可以用来向工程添加多个特定的头文件搜索路径，路径之间用空格分割</p><p>在 CMakeLists.txt 中加入头文件搜索路径</p><p>INCLUDE_DIRECTORIES(/usr/include/hello)</p><p>感谢：</p><p>网友：zcc720 的提醒</p><h3 id="解决找到引用的函数问题"><a class="anchor" href="#解决找到引用的函数问题">#</a> 解决：找到引用的函数问题</h3><p>报错信息：undefined reference to `HelloFunc ()'</p><p>关键字：LINK_DIRECTORIES 添加非标准的共享库搜索路径</p><p>指定第三方库所在路径，LINK_DIRECTORIES (/home/myproject/libs)</p><p>关键字：TARGET_LINK_LIBRARIES 添加需要链接的共享库</p><p>TARGET_LINK_LIBRARIES 的时候，只需要给出动态链接库的名字就行了。</p><p>在 CMakeLists.txt 中插入链接共享库，主要要插在 executable 的后面</p><p>查看 main 的链接情况</p><figure class="highlight cpp"><figcaption data-lang="C++"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token punctuation">[</span>root@MiWiFi<span class="token operator">-</span>R4CM<span class="token operator">-</span>srv bin<span class="token punctuation">]</span># ldd main </pre></td></tr><tr><td data-num="2"></td><td><pre>	linux<span class="token operator">-</span>vdso<span class="token punctuation">.</span>so<span class="token punctuation">.</span><span class="token number">1</span> <span class="token operator">=</span><span class="token operator">></span>  <span class="token punctuation">(</span><span class="token number">0x00007ffedfda4000</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="3"></td><td><pre>	libhello<span class="token punctuation">.</span>so <span class="token operator">=</span><span class="token operator">></span> <span class="token operator">/</span>lib64<span class="token operator">/</span>libhello<span class="token punctuation">.</span><span class="token function">so</span> <span class="token punctuation">(</span><span class="token number">0x00007f41c0d8f000</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="4"></td><td><pre>	libstdc<span class="token operator">++</span><span class="token punctuation">.</span>so<span class="token punctuation">.</span><span class="token number">6</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token operator">/</span>lib64<span class="token operator">/</span>libstdc<span class="token operator">++</span><span class="token punctuation">.</span>so<span class="token punctuation">.</span><span class="token number">6</span> <span class="token punctuation">(</span><span class="token number">0x00007f41c0874000</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="5"></td><td><pre>	libm<span class="token punctuation">.</span>so<span class="token punctuation">.</span><span class="token number">6</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token operator">/</span>lib64<span class="token operator">/</span>libm<span class="token punctuation">.</span>so<span class="token punctuation">.</span><span class="token number">6</span> <span class="token punctuation">(</span><span class="token number">0x00007f41c0572000</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="6"></td><td><pre>	libgcc_s<span class="token punctuation">.</span>so<span class="token punctuation">.</span><span class="token number">1</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token operator">/</span>lib64<span class="token operator">/</span>libgcc_s<span class="token punctuation">.</span>so<span class="token punctuation">.</span><span class="token number">1</span> <span class="token punctuation">(</span><span class="token number">0x00007f41c035c000</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="7"></td><td><pre>	libc<span class="token punctuation">.</span>so<span class="token punctuation">.</span><span class="token number">6</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token operator">/</span>lib64<span class="token operator">/</span>libc<span class="token punctuation">.</span>so<span class="token punctuation">.</span><span class="token number">6</span> <span class="token punctuation">(</span><span class="token number">0x00007f41bff8e000</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="8"></td><td><pre>	<span class="token operator">/</span>lib64<span class="token operator">/</span>ld<span class="token operator">-</span>linux<span class="token operator">-</span>x86<span class="token operator">-</span><span class="token number">64.</span>so<span class="token punctuation">.</span><span class="token number">2</span> <span class="token punctuation">(</span><span class="token number">0x00007f41c0b7c000</span><span class="token punctuation">)</span></pre></td></tr></table></figure><p>链接静态库</p><p><code>TARGET_LINK_LIBRARIES(main libhello.a)</code></p><h3 id="特殊的环境变量-cmake_include_path-和-cmake_library_path"><a class="anchor" href="#特殊的环境变量-cmake_include_path-和-cmake_library_path">#</a> 特殊的环境变量 CMAKE_INCLUDE_PATH 和 CMAKE_LIBRARY_PATH</h3><p>注意：这两个是环境变量而不是 cmake 变量，可以在 linux 的 bash 中进行设置</p><p>我们上面例子中使用了绝对路径 INCLUDE_DIRECTORIES (/usr/include/hello) 来指明 include 路径的位置</p><p>我们还可以使用另外一种方式，使用环境变量 export CMAKE_INCLUDE_PATH=/usr/include/hello</p><p>补充：生产 debug 版本的方法：<br>cmake .. -DCMAKE_BUILD_TYPE=debug</p><h1 id="本人所有视频和笔记都是免费分享给大家的制作视频和笔记要花费大量的时间成本"><a class="anchor" href="#本人所有视频和笔记都是免费分享给大家的制作视频和笔记要花费大量的时间成本">#</a> 本⼈所有视频和笔记都是免费分享给⼤家的，制作视频和笔记要花费⼤量的时间成本</h1><p>我也有⽼婆和孩⼦要养，恳求各位观众⽼爷们有经济实⼒的稍微打赏⼀下⼩弟，但不强求，再⼀次感谢。<br>您的打赏，会让我今后有更⼤的动⼒，做出更优质的视频，感谢⼤家的⽀持</p><p>![Untitled](CMake 4f0e9a3fcf9949adab4540191610cf3e/Untitled.png)</p><div class="tags"><a href="/tags/Cmake/" rel="tag"><i class="ic i-tag"></i> Cmake</a></div></div><footer><div class="meta"><span class="item"><span class="icon"><i class="ic i-calendar-check"></i> </span><span class="text">更新于</span> <time title="修改时间：2023-02-05 16:46:33" itemprop="dateModified" datetime="2023-02-05T16:46:33+08:00">2023-02-05</time> </span><span id="2023/02/05/cpp/Cmake笔记/" class="item leancloud_visitors" data-flag-title="Cmake笔记" title="阅读次数"><span class="icon"><i class="ic i-eye"></i> </span><span class="text">阅读次数</span> <span class="leancloud-visitors-count"></span> <span class="text">次</span></span></div><div class="reward"><button><i class="ic i-heartbeat"></i> 赞赏</button><p>请我喝[茶]~(￣▽￣)~*</p><div id="qr"><div><img data-src="/images/alipay.jpg" alt="Sean Barrett 支付宝"><p>支付宝</p></div></div></div><div id="copyright"><ul><li class="author"><strong>本文作者： </strong>Sean Barrett <i class="ic i-at"><em>@</em></i></li><li class="link"><strong>本文链接：</strong> <a href="https://aristotlednzk.github.io.com/2023/02/05/cpp/Cmake%E7%AC%94%E8%AE%B0/" title="Cmake笔记">https://aristotlednzk.github.io.com/2023/02/05/cpp/Cmake笔记/</a></li><li class="license"><strong>版权声明： </strong>本站所有文章除特别声明外，均采用 <span class="exturl" data-url="aHR0cHM6Ly9jcmVhdGl2ZWNvbW1vbnMub3JnL2xpY2Vuc2VzL2J5LW5jLXNhLzQuMC9kZWVkLnpo"><i class="ic i-creative-commons"><em>(CC)</em></i>BY-NC-SA</span> 许可协议。转载请注明出处！</li></ul></div></footer></article></div><div class="post-nav"><div class="item left"><a href="/2023/01/07/%E8%A8%80/%E4%B8%80%E4%BA%BA%E5%B1%B1%E6%B5%B7%EF%BC%8C%E7%BB%9D%E5%AD%A6%E6%97%A0%E5%BF%A7/" itemprop="url" rel="prev" data-background-image="https:&#x2F;&#x2F;img1.baidu.com&#x2F;it&#x2F;u&#x3D;155078936,1959854240&amp;fm&#x3D;253&amp;fmt&#x3D;auto&amp;app&#x3D;138&amp;f&#x3D;JPEG?w&#x3D;800&amp;h&#x3D;500" title="一人山海，绝学无忧"><span class="type">上一篇</span> <span class="category"><i class="ic i-flag"></i> 言</span><h3>一人山海，绝学无忧</h3></a></div><div class="item right"></div></div><div class="wrap" id="comments"></div></div><div id="sidebar"><div class="inner"><div class="panels"><div class="inner"><div class="contents panel pjax" data-title="文章目录"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#cmake"><span class="toc-number">1.</span> <span class="toc-text">CMake</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E8%AF%B4%E6%98%8E"><span class="toc-number">2.</span> <span class="toc-text">说明</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#cmake%E5%AE%89%E8%A3%85"><span class="toc-number">3.</span> <span class="toc-text">CMake 安装</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#cmake%E4%B8%80%E4%B8%AAhelloword"><span class="toc-number">4.</span> <span class="toc-text">CMake 一个 HelloWord</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#cmake%E4%B8%80%E4%B8%AAhelloword-%E7%9A%84%E8%AF%AD%E6%B3%95%E4%BB%8B%E7%BB%8D"><span class="toc-number">5.</span> <span class="toc-text">CMake 一个 HelloWord - 的语法介绍</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#project%E5%85%B3%E9%94%AE%E5%AD%97"><span class="toc-number">5.1.</span> <span class="toc-text">PROJECT 关键字</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#set%E5%85%B3%E9%94%AE%E5%AD%97"><span class="toc-number">5.2.</span> <span class="toc-text">SET 关键字</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#message%E5%85%B3%E9%94%AE%E5%AD%97"><span class="toc-number">5.3.</span> <span class="toc-text">MESSAGE 关键字</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#add_executable%E5%85%B3%E9%94%AE%E5%AD%97"><span class="toc-number">5.4.</span> <span class="toc-text">ADD_EXECUTABLE 关键字</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E8%AF%AD%E6%B3%95%E7%9A%84%E5%9F%BA%E6%9C%AC%E5%8E%9F%E5%88%99"><span class="toc-number">6.</span> <span class="toc-text">语法的基本原则</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%AF%AD%E6%B3%95%E6%B3%A8%E6%84%8F%E4%BA%8B%E9%A1%B9"><span class="toc-number">6.1.</span> <span class="toc-text">语法注意事项</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%86%85%E9%83%A8%E6%9E%84%E5%BB%BA%E5%92%8C%E5%A4%96%E9%83%A8%E6%9E%84%E5%BB%BA"><span class="toc-number">7.</span> <span class="toc-text">内部构建和外部构建</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%A4%96%E9%83%A8%E6%9E%84%E5%BB%BA%E6%96%B9%E5%BC%8F%E4%B8%BE%E4%BE%8B"><span class="toc-number">7.1.</span> <span class="toc-text">外部构建方式举例</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E8%AE%A9hello-world%E7%9C%8B%E8%B5%B7%E6%9D%A5%E6%9B%B4%E5%83%8F%E4%B8%80%E4%B8%AA%E5%B7%A5%E7%A8%8B"><span class="toc-number">8.</span> <span class="toc-text">让 Hello World 看起来更像一个工程</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%B0%86%E7%9B%AE%E6%A0%87%E6%96%87%E4%BB%B6%E6%94%BE%E5%85%A5%E6%9E%84%E5%BB%BA%E7%9B%AE%E5%BD%95%E7%9A%84-bin-%E5%AD%90%E7%9B%AE%E5%BD%95"><span class="toc-number">8.1.</span> <span class="toc-text">将目标文件放入构建目录的 bin 子目录</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#add_subdirectory-%E6%8C%87%E4%BB%A4"><span class="toc-number">8.1.1.</span> <span class="toc-text">ADD_SUBDIRECTORY 指令</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%9B%B4%E6%94%B9%E4%BA%8C%E8%BF%9B%E5%88%B6%E7%9A%84%E4%BF%9D%E5%AD%98%E8%B7%AF%E5%BE%84"><span class="toc-number">8.1.2.</span> <span class="toc-text">更改二进制的保存路径</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%AE%89%E8%A3%85"><span class="toc-number">9.</span> <span class="toc-text">安装</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%A6%82%E4%BD%95%E5%AE%89%E8%A3%85helloword"><span class="toc-number">9.1.</span> <span class="toc-text">如何安装 HelloWord</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AE%89%E8%A3%85%E6%96%87%E4%BB%B6copyright%E5%92%8Creadme"><span class="toc-number">9.1.1.</span> <span class="toc-text">安装文件 COPYRIGHT 和 README</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AE%89%E8%A3%85%E8%84%9A%E6%9C%ACrunhellosh"><span class="toc-number">9.1.2.</span> <span class="toc-text">安装脚本 runhello.sh</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AE%89%E8%A3%85-doc-%E4%B8%AD%E7%9A%84-hellotxt"><span class="toc-number">9.1.3.</span> <span class="toc-text">安装 doc 中的 hello.txt</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AE%89%E8%A3%85%E8%BF%87%E7%A8%8B"><span class="toc-number">9.1.4.</span> <span class="toc-text">安装过程</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E9%9D%99%E6%80%81%E5%BA%93%E5%92%8C%E5%8A%A8%E6%80%81%E5%BA%93%E7%9A%84%E6%9E%84%E5%BB%BA"><span class="toc-number">10.</span> <span class="toc-text">静态库和动态库的构建</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%9E%84%E5%BB%BA%E5%AE%9E%E4%BE%8B"><span class="toc-number">10.1.</span> <span class="toc-text">构建实例</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#add_library"><span class="toc-number">10.1.1.</span> <span class="toc-text">ADD_LIBRARY</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%90%8C%E6%97%B6%E6%9E%84%E5%BB%BA%E9%9D%99%E6%80%81%E5%92%8C%E5%8A%A8%E6%80%81%E5%BA%93"><span class="toc-number">10.1.2.</span> <span class="toc-text">同时构建静态和动态库</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#set_target_properties"><span class="toc-number">10.1.3.</span> <span class="toc-text">SET_TARGET_PROPERTIES</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%8A%A8%E6%80%81%E5%BA%93%E7%9A%84%E7%89%88%E6%9C%AC%E5%8F%B7"><span class="toc-number">10.1.4.</span> <span class="toc-text">动态库的版本号</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AE%89%E8%A3%85%E5%85%B1%E4%BA%AB%E5%BA%93%E5%92%8C%E5%A4%B4%E6%96%87%E4%BB%B6"><span class="toc-number">10.1.5.</span> <span class="toc-text">安装共享库和头文件</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BD%BF%E7%94%A8%E5%A4%96%E9%83%A8%E5%85%B1%E4%BA%AB%E5%BA%93%E5%92%8C%E5%A4%B4%E6%96%87%E4%BB%B6"><span class="toc-number">10.1.6.</span> <span class="toc-text">使用外部共享库和头文件</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%A7%A3%E5%86%B3make%E5%90%8E%E5%A4%B4%E6%96%87%E4%BB%B6%E6%89%BE%E4%B8%8D%E5%88%B0%E7%9A%84%E9%97%AE%E9%A2%98"><span class="toc-number">10.1.7.</span> <span class="toc-text">解决：make 后头文件找不到的问题</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%A7%A3%E5%86%B3%E6%89%BE%E5%88%B0%E5%BC%95%E7%94%A8%E7%9A%84%E5%87%BD%E6%95%B0%E9%97%AE%E9%A2%98"><span class="toc-number">10.1.8.</span> <span class="toc-text">解决：找到引用的函数问题</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%89%B9%E6%AE%8A%E7%9A%84%E7%8E%AF%E5%A2%83%E5%8F%98%E9%87%8F-cmake_include_path-%E5%92%8C-cmake_library_path"><span class="toc-number">10.1.9.</span> <span class="toc-text">特殊的环境变量 CMAKE_INCLUDE_PATH 和 CMAKE_LIBRARY_PATH</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E6%9C%AC%E4%BA%BA%E6%89%80%E6%9C%89%E8%A7%86%E9%A2%91%E5%92%8C%E7%AC%94%E8%AE%B0%E9%83%BD%E6%98%AF%E5%85%8D%E8%B4%B9%E5%88%86%E4%BA%AB%E7%BB%99%E5%A4%A7%E5%AE%B6%E7%9A%84%E5%88%B6%E4%BD%9C%E8%A7%86%E9%A2%91%E5%92%8C%E7%AC%94%E8%AE%B0%E8%A6%81%E8%8A%B1%E8%B4%B9%E5%A4%A7%E9%87%8F%E7%9A%84%E6%97%B6%E9%97%B4%E6%88%90%E6%9C%AC"><span class="toc-number">11.</span> <span class="toc-text">本⼈所有视频和笔记都是免费分享给⼤家的，制作视频和笔记要花费⼤量的时间成本</span></a></li></ol></div><div class="related panel pjax" data-title="系列文章"><ul><li><a href="/2022/10/15/cpp/%E9%A1%B9%E7%9B%AE/Linux%E7%BD%91%E7%BB%9C%E7%BC%96%E7%A8%8B%EF%BC%9Asocket%E3%80%81IO%E5%A4%8D%E7%94%A8%E3%80%81epoll/" rel="bookmark" title="Linux网络编程：socket、IO复用、epoll">Linux网络编程：socket、IO复用、epoll</a></li><li><a href="/2022/11/10/cpp/%E9%A1%B9%E7%9B%AE/Tinywebserver%E9%A1%B9%E7%9B%AE%E8%AE%B0%E5%BD%95/" rel="bookmark" title="Tinywebserver项目记录">Tinywebserver项目记录</a></li><li><a href="/2022/11/15/cpp/%E9%A1%B9%E7%9B%AE/IO%E5%A4%9A%E8%B7%AF%E5%A4%8D%E7%94%A8/" rel="bookmark" title="IO多路复用">IO多路复用</a></li><li><a href="/2022/11/15/cpp/%E9%A1%B9%E7%9B%AE/%E5%8D%8A%E5%90%8C%E6%AD%A5-%E5%8D%8A%E5%8F%8D%E5%BA%94%E5%A0%86%E7%BA%BF%E7%A8%8B%E6%B1%A0/" rel="bookmark" title="半同步/半反应堆线程池">半同步/半反应堆线程池</a></li><li><a href="/2022/11/15/cpp/%E9%A1%B9%E7%9B%AE/Linux%E5%A4%9A%E7%BA%BF%E7%A8%8B%E5%BC%80%E5%8F%91/" rel="bookmark" title="Linux多线程开发">Linux多线程开发</a></li><li><a href="/2022/11/29/cpp/%E9%A1%B9%E7%9B%AE/%E5%AE%9A%E6%97%B6%E5%99%A8/" rel="bookmark" title="定时器">定时器</a></li><li class="active"><a href="/2023/02/05/cpp/Cmake%E7%AC%94%E8%AE%B0/" rel="bookmark" title="Cmake笔记">Cmake笔记</a></li></ul></div><div class="overview panel" data-title="站点概览"><div class="author" itemprop="author" itemscope itemtype="http://schema.org/Person"><img class="image" itemprop="image" alt="Sean Barrett" data-src="/images/avatar.jpg"><p class="name" itemprop="name">Sean Barrett</p><div class="description" itemprop="description">思及我域</div></div><nav class="state"><div class="item posts"><a href="/archives/"><span class="count">23</span> <span class="name">文章</span></a></div><div class="item categories"><a href="/categories/"><span class="count">16</span> <span class="name">分类</span></a></div><div class="item tags"><a href="/tags/"><span class="count">17</span> <span class="name">标签</span></a></div></nav><div class="social"><span class="exturl item github" data-url="aHR0cHM6Ly9naXRodWIuY29tL0FyaXN0b3RsZUROWks=" title="https:&#x2F;&#x2F;github.com&#x2F;AristotleDNZK"><i class="ic i-github"></i></span> <span class="exturl item music" data-url="aHR0cHM6Ly9tdXNpYy4xNjMuY29tLyMvdXNlci9ob21lP2lkPTk0NTI2OTQy" title="https:&#x2F;&#x2F;music.163.com&#x2F;#&#x2F;user&#x2F;home?id&#x3D;94526942"><i class="ic i-cloud-music"></i></span> <a href="/jiang1302833@163.com" title="jiang1302833@163.com" class="item email"><i class="ic i-envelope"></i></a></div><ul class="menu"><li class="item"><a href="/" rel="section"><i class="ic i-home"></i>首页</a></li><li class="item"><a href="/about/" rel="section"><i class="ic i-user"></i>关于</a></li><li class="item dropdown"><a href="javascript:void(0);"><i class="ic i-feather"></i>文章</a><ul class="submenu"><li class="item"><a href="/archives/" rel="section"><i class="ic i-list-alt"></i>归档</a></li><li class="item"><a href="/categories/" rel="section"><i class="ic i-th"></i>分类</a></li><li class="item"><a href="/tags/" rel="section"><i class="ic i-tags"></i>标签</a></li></ul></li><li class="item dropdown"><a href="javascript:void(0);"><i class="ic i-clipboard"></i>书架</a><ul class="submenu"><li class="item"><a href="/books/deeplearning-books/" rel="section"><i class="ic i-fedora"></i>深度学习</a></li><li class="item"><a href="/books/philosophy-books/" rel="section"><i class="ic i-fedora"></i>哲学</a></li></ul></li><li class="item"><a href="/friends/" rel="section"><i class="ic i-heart"></i>友链</a></li><li class="item"><a href="/links/" rel="section"><i class="ic i-magic"></i>链环</a></li></ul></div></div></div><ul id="quick"><li class="prev pjax"></li><li class="up"><i class="ic i-arrow-up"></i></li><li class="down"><i class="ic i-arrow-down"></i></li><li class="next pjax"></li><li class="percent"></li></ul></div></div><div class="dimmer"></div></div></main><footer id="footer"><div class="inner"><div class="widgets"><div class="rpost pjax"><h2>随机文章</h2><ul><li class="item"><div class="breadcrumb"><a href="/categories/%E9%97%BB%E8%AF%B4/" title="分类于 阅读笔记">阅读笔记</a></div><span><a href="/2022/11/02/%E9%97%BB%E8%AF%B4/%E7%88%B1%E6%AC%B2%E4%B9%8B%E6%AD%BB/" title="爱欲之死">爱欲之死</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/philosophy/" title="分类于 哲学社科">哲学社科</a> <i class="ic i-angle-right"></i> <a href="/categories/philosophy/%E4%B8%AD%E5%93%B2/" title="分类于 中哲">中哲</a></div><span><a href="/2022/10/11/philosophy/%E7%8E%8B%E9%98%B3%E6%98%8E%E5%BF%83%E5%AD%A6/" title="王阳明心学">王阳明心学</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/GAN%E8%AF%BE%E9%A2%98/" title="分类于 GAN课题">GAN课题</a> <i class="ic i-angle-right"></i> <a href="/categories/GAN%E8%AF%BE%E9%A2%98/%E7%94%9F%E6%88%90%E5%AF%B9%E6%8A%97%E7%BD%91%E7%BB%9C/" title="分类于 生成对抗网络">生成对抗网络</a></div><span><a href="/2022/10/12/GAN%E8%AF%BE%E9%A2%98/%E7%94%9F%E6%88%90%E5%AF%B9%E6%8A%97%E7%BD%91%E7%BB%9C/%E7%94%9F%E6%88%90%E5%AF%B9%E6%8A%97%E7%BD%91%E7%BB%9C/" title="生成对抗网络">生成对抗网络</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/cpp/" title="分类于 C++">C++</a> <i class="ic i-angle-right"></i> <a href="/categories/cpp/%E9%A1%B9%E7%9B%AE/" title="分类于 项目">项目</a> <i class="ic i-angle-right"></i> <a href="/categories/cpp/%E9%A1%B9%E7%9B%AE/Linux%E9%AB%98%E6%80%A7%E8%83%BD%E6%9C%8D%E5%8A%A1%E5%99%A8%E7%BC%96%E7%A8%8B/" title="分类于 Linux高性能服务器编程">Linux高性能服务器编程</a></div><span><a href="/2022/11/15/cpp/%E9%A1%B9%E7%9B%AE/IO%E5%A4%9A%E8%B7%AF%E5%A4%8D%E7%94%A8/" title="IO多路复用">IO多路复用</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/cpp/" title="分类于 C++">C++</a> <i class="ic i-angle-right"></i> <a href="/categories/cpp/Linux%E9%AB%98%E6%80%A7%E8%83%BD%E6%9C%8D%E5%8A%A1%E5%99%A8%E7%BC%96%E7%A8%8B/" title="分类于 Linux高性能服务器编程">Linux高性能服务器编程</a></div><span><a href="/2022/11/15/cpp/%E9%A1%B9%E7%9B%AE/Linux%E5%A4%9A%E7%BA%BF%E7%A8%8B%E5%BC%80%E5%8F%91/" title="Linux多线程开发">Linux多线程开发</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/%E8%A8%80/" title="分类于 言">言</a></div><span><a href="/2022/10/12/%E8%BF%9C%E8%A1%8C%E8%80%85%E5%BC%80%E7%AF%87/%E8%BF%9C%E8%A1%8C%E8%80%85%E5%BC%80%E7%AF%87/" title="远行者开篇">远行者开篇</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/computer-science/" title="分类于 转码之路">转码之路</a></div><span><a href="/2022/10/11/computer-science/%E8%BD%AC%E7%A0%81%E4%B9%8B%E8%B7%AF/" title="转码之路">转码之路</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/computer-science/" title="分类于 转码之路">转码之路</a> <i class="ic i-angle-right"></i> <a href="/categories/computer-science/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/" title="分类于 设计模式">设计模式</a></div><span><a href="/2022/11/15/computer-science/%E5%8D%95%E4%BE%8B%E6%A8%A1%E5%BC%8F/%E5%8D%95%E4%BE%8B%E6%A8%A1%E5%BC%8F/" title="单例模式">单例模式</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/philosophy/" title="分类于 哲学社科">哲学社科</a> <i class="ic i-angle-right"></i> <a href="/categories/philosophy/%E8%A5%BF%E5%93%B2/" title="分类于 西哲">西哲</a></div><span><a href="/2022/10/19/philosophy/%E4%BA%BA%E7%B1%BB%E7%9F%A5%E8%AF%86%E7%9A%84%E9%BB%98%E4%BC%9A%E7%BB%B4%E5%BA%A6/" title="人类知识的默会维度">人类知识的默会维度</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/cpp/" title="分类于 C++">C++</a> <i class="ic i-angle-right"></i> <a href="/categories/cpp/%E9%A1%B9%E7%9B%AE/" title="分类于 项目">项目</a></div><span><a href="/2022/11/10/cpp/%E9%A1%B9%E7%9B%AE/Tinywebserver%E9%A1%B9%E7%9B%AE%E8%AE%B0%E5%BD%95/" title="Tinywebserver项目记录">Tinywebserver项目记录</a></span></li></ul></div><div><h2>最新评论</h2><ul class="leancloud-recent-comment"></ul></div></div><div class="status"><div class="copyright">&copy; 2010 – <span itemprop="copyrightYear">2023</span> <span class="with-love"><i class="ic i-sakura rotate"></i> </span><span class="author" itemprop="copyrightHolder">Sean Barrett @ Sean Barrett</span></div><div class="count"><span class="post-meta-item-icon"><i class="ic i-chart-area"></i> </span><span title="站点总字数">61k 字</span> <span class="post-meta-divider">|</span> <span class="post-meta-item-icon"><i class="ic i-coffee"></i> </span><span title="站点阅读时长">55 分钟</span></div><div class="powered-by">基于 <span class="exturl" data-url="aHR0cHM6Ly9oZXhvLmlv">Hexo</span> & Theme.<span class="exturl" data-url="aHR0cHM6Ly9naXRodWIuY29tL2FtZWhpbWUvaGV4by10aGVtZS1zaG9rYQ==">Shoka</span></div></div></div></footer></div><script data-config type="text/javascript">var LOCAL={path:"2023/02/05/cpp/Cmake笔记/",favicon:{show:"（●´3｀●）やれやれだぜ",hide:"(´Д｀)大変だ！"},search:{placeholder:"文章搜索",empty:"关于 「 ${query} 」，什么也没搜到",stats:"${time} ms 内找到 ${hits} 条结果"},valine:!0,fancybox:!0,copyright:'复制成功，转载请遵守 <i class="ic i-creative-commons"></i>BY-NC-SA 协议。',ignores:[function(e){return e.includes("#")},function(e){return new RegExp(LOCAL.path+"$").test(e)}]}</script><script src="https://cdn.polyfill.io/v2/polyfill.js"></script><script src="//cdn.jsdelivr.net/combine/npm/pace-js@1.0.2/pace.min.js,npm/pjax@0.2.8/pjax.min.js,npm/whatwg-fetch@3.4.0/dist/fetch.umd.min.js,npm/animejs@3.2.0/lib/anime.min.js,npm/algoliasearch@4/dist/algoliasearch-lite.umd.js,npm/instantsearch.js@4/dist/instantsearch.production.min.js,npm/lozad@1/dist/lozad.min.js,npm/quicklink@2/dist/quicklink.umd.js"></script><script src="/js/app.js?v=0.2.5"></script></body></html>